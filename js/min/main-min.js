function equalizer(e){var r=300*Math.random(),t=1.5*r,o=(170-r)/2;e.animate({height:r,marginTop:o},t,function(){equalizer($(this))})}function updateGradient(){if(void 0!==$){var e=colors[colorIndices[0]],r=colors[colorIndices[1]],t=colors[colorIndices[2]],o=colors[colorIndices[3]],c=1-step,a=Math.round(c*e[0]+step*r[0]),n=Math.round(c*e[1]+step*r[1]),s=Math.round(c*e[2]+step*r[2]),i="rgb("+a+","+n+","+s+")",l=Math.round(c*t[0]+step*o[0]),d=Math.round(c*t[1]+step*o[1]),p=Math.round(c*t[2]+step*o[2]),u="rgb("+l+","+d+","+p+")";$("#music-bars span").css({background:"-webkit-gradient(linear, left top, right top, from("+i+"), to("+u+"))"}).css({background:"-moz-linear-gradient(left, "+i+" 0%, "+u+" 100%)"}),step+=gradientSpeed,step>=1&&(step%=1,colorIndices[0]=colorIndices[1],colorIndices[2]=colorIndices[3],colorIndices[1]=(colorIndices[1]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length,colorIndices[3]=(colorIndices[3]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length)}}$.getJSON("http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=mckeever02&api_key=1292bb2c17448545b7e87339cc20dc41&format=json",function(e){var r=$(".artist"),t=$(".track"),o=$(".album"),c=e.recenttracks.track[0].artist["#text"],a=e.recenttracks.track[0].album["#text"],n=e.recenttracks.track[0].name,s=e.recenttracks.track[0].url;r.append(c),t.append(n),o.append(" &bull; "+a)}),$("#music-bars span").each(function(e){equalizer($(this))});var colors=new Array([62,35,255],[60,255,60],[255,35,98],[45,175,230],[255,0,255],[255,128,0]),step=0,colorIndices=[0,1,2,3],gradientSpeed=.001;setInterval(updateGradient,10);